<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PokeMin</title>
    <base href="/" />
    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link href="PokeMin.styles.css" rel="stylesheet" />
</head>

<body>
    <div id="app">
        <svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%" />
            <circle r="40%" cx="50%" cy="50%" />
        </svg>
        <div class="loading-progress-text"></div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="." class="reload">Reload</a>
        <span class="dismiss">ðŸ—™</span>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>
    <script>
        // Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ ÑÐ¾ Ð·Ð²ÑƒÐºÐ°Ð¼Ð¸ Ð² Ð¸Ð³Ñ€Ðµ
        window.gameAudio = {
            userInteracted: false,
            welcomeSoundPlayed: false,
            
            // Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ Ð¿Ñ€Ð¸ Ð¿ÐµÑ€Ð²Ð¾Ð¼ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¸
            init: function() {
                if (!this.userInteracted) {
                    this.userInteracted = true;
                    console.log('User interaction detected, audio enabled');
                    // Ð’Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ð¼ Ð¿Ñ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð·Ð²ÑƒÐº Ð¿Ñ€Ð¸ Ð¿ÐµÑ€Ð²Ð¾Ð¼ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¸
                    if (!this.welcomeSoundPlayed) {
                        this.playWelcomeSound();
                        this.welcomeSoundPlayed = true;
                    }
                }
            },
            
            // Ð—Ð²ÑƒÐº "Who's that Pokemon" Ð¿Ñ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ Ð¸Ð³Ñ€Ñ‹
            playWelcomeSound: function() {
                console.log('Playing welcome sound...');
                // Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ð°Ñ ÑÑÑ‹Ð»ÐºÐ° Ð½Ð° Ð²Ð°Ñˆ Dropbox Ñ„Ð°Ð¹Ð»
                const pokemonIntroUrl = 'https://www.dropbox.com/scl/fi/cwgx4ale4ieq7ljb99e4r/whosthatpokemon.wav?rlkey=92zsnopf8u5dn31qsc064r0sr&st=aurvkutx&dl=1';
                
                const audio = new Audio(pokemonIntroUrl);
                audio.volume = 0.5;
                audio.play().catch(e => {
                    console.log('Could not play welcome sound:', e.message);
                    // Fallback Ðº Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¼Ñƒ Ð¿Ñ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð¼Ñƒ Ð·Ð²ÑƒÐºÑƒ
                    this.playSound('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJmutqt4AGnqo5YvnVMiNpvn3n8yc6PaVi0fFq/fS1JgJ0rZZqhvl6ZGLfWWPKx6GG/m7qxSNwxzXHkGXm3dXfZwYDSq3FY7ClZh4lJNn8+gXTkMZXvgmm5T2HLfPvk2XrHaJdR+g8Zw1Wk+XV7b6qtmfp9QV6v96z8cjm0eKD4=', 0.4);
                });
            },
            
            // Ð’Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð·Ð²ÑƒÐºÐ° Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¾Ð¹ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ
            playSound: function(url, volume = 0.3) {
                this.init();
                const audio = new Audio(url);
                audio.volume = volume;
                audio.play().catch(e => {
                    console.log('Could not play sound:', e.message);
                });
            },
            
            // Ð—Ð²ÑƒÐº Ð¿Ñ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ð¸Ð³Ñ€Ñ‹ (Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ Ð¿Ñ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð·Ð²ÑƒÐº)
            playGameStartSound: function() {
                this.playWelcomeSound();
            },
            
            // Ð—Ð²ÑƒÐº Ð¿Ñ€Ð¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¼ Ð¾Ñ‚Ð²ÐµÑ‚Ðµ (ÑƒÑÐ¿ÐµÑ…)
            playCorrectSound: function() {
                // Ð Ð°Ð´Ð¾ÑÑ‚Ð½Ñ‹Ð¹ Ð·Ð²ÑƒÐº - Ð²Ñ‹ÑÐ¾ÐºÐ¸Ð¹ Ñ‚Ð¾Ð½
                this.playSound('data:audio/wav;base64,UklGRi4EAABXQVZFZm10IBAAAAABAAEAESsAABErAAABAAgAZGF0YQoEAACbdyuq4Z7v7b/+8O7m5+Hp6eXn4+Pj4ODg3t7d3NvZ2djX1tXU09LS0M/Ozs3My8vKycjIx8bGxcXExMPDwsLBwcDAwL+/vr69vby8u7u6urm5uLi3t7a2tbW0tLS0s7KysrGxsLCwsK+vr66urq2tra2srKyrq6urqqqqqqmqqamqqamoqKioqKenp6enp6empqampqWlpaWlpKSkpKSko6OjpKOjo6Ojo6OjpKOjo6OjpKSjpKSkpKSkpaWlpaWmpqampqampqenp6enqKioqKioqamqqqmqqquqq6qrq6usr6ytra2urq+vsLCwsLGysrKzs7O0tLS1tbW2tra3t7e4uLi5ubm6urq7u7u8vLy9vb6+vr/Av8DBwcLCwsPDxMTFxcbGx8fIyMnJysrLy8zMzc3Ozs/P0NDR0dLS09PU1NXV1tbX19jY2dna2tvb3N3d3t7f3+Dg4eLi4+Pk5OXl5ubn5+jo6enq6uvr7Ozt7e7u7+/w8PHx8vLz8/T09PX19vb29/f4+Pj5+fr6+vv7/Pz8/f3+/v7+////////////', 0.4);
            },
            
            // Ð—Ð²ÑƒÐº Ð¿Ñ€Ð¸ Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¼ Ð¾Ñ‚Ð²ÐµÑ‚Ðµ (Ð¾ÑˆÐ¸Ð±ÐºÐ°)
            playIncorrectSound: function() {
                // Ð“Ñ€ÑƒÑÑ‚Ð½Ñ‹Ð¹ Ð·Ð²ÑƒÐº - Ð½Ð¸Ð·ÐºÐ¸Ð¹ Ñ‚Ð¾Ð½
                this.playSound('data:audio/wav;base64,UklGRnIAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU4AAAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgAuLi4ALi4uAC4uLgA', 0.4);
            },
            
            // Ð—Ð²ÑƒÐº Ð¿Ñ€Ð¸ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ðµ Ðº ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¼Ñƒ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑƒ
            playNextSound: function() {
                // ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð½Ñ‹Ð¹ Ð·Ð²ÑƒÐº
                this.playSound('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJmutqt4AGnqo5YvnVMiNpvn3n8yc6PaVi0fFq/fS1JgJ0rZZqhvl6ZGLfWWPKx6GG/m7qxSNwxzXHkGXm3dXfZwYDSq3FY7ClZh4lJNn8+gXTkMZXvgmm5T2HLfPvk2XrHaJdR+g8Zw1Wk+XV7b6qtmfp9QV6v96z8cjm0eKD4=', 0.3);
            },
            
            // Ð—Ð²ÑƒÐº Ð½Ð°Ð¶Ð°Ñ‚Ð¸Ñ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ (ÐºÐ»Ð¸Ðº)
            playClickSound: function() {
                // ÐšÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¹ ÐºÐ»Ð¸Ðº
                this.playSound('data:audio/wav;base64,UklGRpQAAABXQVZFZm10IBAAAAABAAEAESsAABErAAABAAgAZGF0YXAAAACgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg', 0.2);
            }
        };
        
        // Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ ÑÐ»ÑƒÑˆÐ°Ñ‚ÐµÐ»ÑŒ Ð´Ð»Ñ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
        document.addEventListener('click', () => window.gameAudio.init(), { once: true });
        document.addEventListener('keydown', () => window.gameAudio.init(), { once: true });
        document.addEventListener('touchstart', () => window.gameAudio.init(), { once: true });
    </script>

</body>

</html>
